<?xml version="1.0" encoding="UTF-8"?>
<testSet xmlns="http://difi.no/xsd/vefa/validator/1.0" configuration="peppolbis-en16931-base-3.0-ubl">
    <assert>
        <description>DE-R-020 The element "Debited account identifier" (BT-91) should contain a valid IBAN if code 59 SEPA is provided in "Payment means type code" (BT-81).</description>
        <scope>DE-R-020</scope>
    </assert>
    <test>
        <assert>
            <success>DE-R-020</success>
        </assert>
        <Invoice xmlns="urn:oasis:names:specification:ubl:schema:xsd:Invoice-2" xmlns:cac="urn:oasis:names:specification:ubl:schema:xsd:CommonAggregateComponents-2" xmlns:cec="urn:oasis:names:specification:ubl:schema:xsd:CommonExtensionComponents-2" xmlns:cbc="urn:oasis:names:specification:ubl:schema:xsd:CommonBasicComponents-2">
           
  <cac:PaymentMeans>
    <!-- BT-81 -->
    <cbc:PaymentMeansCode>59</cbc:PaymentMeansCode>
    <cac:PaymentMandate>
      <cbc:ID>mandate id</cbc:ID>
      <cac:PayerFinancialAccount>
        <!-- BT-91 -->
        <cbc:ID>DE75512108001245126199</cbc:ID>
      </cac:PayerFinancialAccount>
    </cac:PaymentMandate>
  </cac:PaymentMeans>
  
</Invoice>
    </test>
    
    <test>
        <assert>
            <warning>DE-R-020</warning>
        </assert>
        <Invoice xmlns="urn:oasis:names:specification:ubl:schema:xsd:Invoice-2" xmlns:cac="urn:oasis:names:specification:ubl:schema:xsd:CommonAggregateComponents-2" xmlns:cec="urn:oasis:names:specification:ubl:schema:xsd:CommonExtensionComponents-2" xmlns:cbc="urn:oasis:names:specification:ubl:schema:xsd:CommonBasicComponents-2">

  <cac:PaymentMeans>
    <!-- BT-81 -->
    <cbc:PaymentMeansCode>59</cbc:PaymentMeansCode>
    <cac:PaymentMandate>
      <cbc:ID>mandate id</cbc:ID>
      <cac:PayerFinancialAccount>
        <!-- BT-91 -->
        <cbc:ID>AS28192373298</cbc:ID>
      </cac:PayerFinancialAccount>
    </cac:PaymentMandate>
  </cac:PaymentMeans>
  
</Invoice>
    </test>
</testSet>
